<UserControl
  x:Class="LogGenius.Modules.Entries.ColorButton"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
  xmlns:modernwpf="http://schemas.modernwpf.com/2019"
  xmlns:ColorPicker="clr-namespace:ColorPicker;assembly=ColorPicker"
  xmlns:local="clr-namespace:LogGenius.Modules.Entries"
  mc:Ignorable="d" 
  d:DesignHeight="450" d:DesignWidth="800">
  <Button>
    <Button.Content>
      <modernwpf:SimpleStackPanel Orientation="Horizontal" Spacing="5">
        <Rectangle Width="20" Height="20" RadiusX="2" RadiusY="2">
          <Rectangle.Fill>
            <SolidColorBrush Color="{Binding Color, RelativeSource={RelativeSource AncestorType=UserControl}}"/>
          </Rectangle.Fill>
        </Rectangle>
        <TextBlock
          Text="{Binding Title, RelativeSource={RelativeSource AncestorType=UserControl}}"
          VerticalAlignment="Center"
          FontSize="{DynamicResource FontSize}"/>
      </modernwpf:SimpleStackPanel>
    </Button.Content>
    <modernwpf:FlyoutService.Flyout>
      <modernwpf:Flyout Placement="BottomEdgeAlignedLeft">
        <ColorPicker:SquarePicker
          x:Name="ColorPicker"
          Width="200" Height="200"/>
      </modernwpf:Flyout>
    </modernwpf:FlyoutService.Flyout>
  </Button>
</UserControl>
